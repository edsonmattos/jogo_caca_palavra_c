# Gerador de Palavras Aleatórias e Manipulação de Arquivos Binários

Este projeto em C demonstra a geração de palavras aleatórias a partir de uma lista pré-definida, a conversão dessas palavras em uma estrutura de dados (`Palavra`), e a persistência (escrita e leitura) dessas estruturas em um arquivo binário.

---

## Estrutura do Projeto

A organização do projeto segue uma estrutura modular para facilitar a manutenção e o entendimento do código.

```
seu_projeto/
├── main.c              # Arquivo principal que utiliza as funções da biblioteca
├── data/               # Pasta que contém os arquivos da biblioteca
│   ├── cria_arquivo.h  # Declarações das funções e estruturas (interface da biblioteca)
│   └── cria_arquivo.c  # Implementação das funções (código da biblioteca)
├── output/             # Pasta para onde o executável compilado será enviado (criada automaticamente pelo VS Code)
├── .vscode/            # Configurações do VS Code para compilação e execução
│   └── tasks.json      # Define as tarefas de build para o VS Code
└── README.md           # Este arquivo
```

---

## Visão Geral do Código

### `cria_arquivo.h`
Este é o **cabeçalho da biblioteca**. Ele contém as **declarações** de todas as funções e estruturas de dados que o módulo `cria_arquivo` exporta. É a "interface" da sua biblioteca, informando a outros arquivos C (como `main.c`) o que eles podem usar.

* **`const char *textos[]`**: Declaração externa do array de strings com as palavras.
* **`const int num_textos`**: Declaração externa do número total de palavras.
* **`typedef struct palavra_s Palavra;`**: Definição da estrutura `Palavra` que armazena a palavra em si e suas coordenadas de início e fim (inicialmente zero).
* **Declarações de Funções**: Inclui as assinaturas de funções como `retorna_lista`, `cria_arquivo`, `retorna_dados_arquivo`, `valida_arquivo_criado` e `get_palavras`.

### `cria_arquivo.c`
Este é o **arquivo de implementação da biblioteca**. Ele contém as **definições completas** (o código real) de todas as funções declaradas em `cria_arquivo.h`. É aqui que a lógica de sorteio de palavras, alocação de memória, escrita e leitura de arquivos binários reside. Também é onde o array `textos` e `num_textos` são definidos.

### `main.c`
Este é o **arquivo principal do programa**. Ele inclui `cria_arquivo.h` para poder usar as funções da biblioteca. É responsável por iniciar o gerador de números aleatórios (`srand`), interagir com o usuário para decidir se o arquivo binário deve ser recriado e chamar a função `get_palavras` para obter e exibir os dados.

---

## Como Compilar e Executar

Este projeto é configurado para ser facilmente compilado e executado usando o **VS Code** com a extensão **C/C++ Compile Run**.

### 1. Pré-requisitos

* **Visual Studio Code (VS Code)**: Um editor de código leve, mas poderoso.
* **Extensão C/C++ (da Microsoft)**: Essencial para recursos de C/C++ como IntelliSense e depuração.
* **Extensão C/C++ Compile Run**: Simplifica a compilação e execução.
* **MinGW-w64 (GCC)**: Um compilador C/C++ para Windows (geralmente instalado via MSYS2). Certifique-se de que o `gcc.exe` esteja no seu `PATH` ou que o caminho completo esteja configurado no `tasks.json`.

### 2. Configuração do VS Code (`.vscode/tasks.json`)

O arquivo `.vscode/tasks.json` define como o VS Code deve compilar seu projeto. A configuração que funcionou para você utiliza o wildcard `*.c` para incluir todos os arquivos C na raiz do projeto e subdiretórios.

```json
{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Build Project (GCC)", // Nome da tarefa de build no VS Code
            "type": "shell",
            "command": "C:\\msys64\\mingw64\\bin\\gcc.exe", // Verifique se este é o seu caminho correto para o gcc.exe
            "args": [
                "-fdiagnostics-color=always",// Colore os diagnósticos no terminal
                "-g", // Habilita depuração
                "${workspaceFolder}/*.c",// Compila todos os arquivos \.c na raiz e subdiretórios
                "-o",
                "${fileDirname}\\${fileBasenameNoExtension}.exe"// Define o nome e local do executável de saída
            ], 
            "options": {
                "cwd": "${fileDirname}"// Define o diretório de trabalho como a raiz do projeto
            },
            "problemMatcher": [
                "$gcc"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "detail": "Task generated by Debugger."
        }
    ],
}
```

**Observações sobre a configuração:**

* A linha `"${workspaceFolder}/*.c"` é a **chave para a compilação bem-sucedida**, pois ela instrui o `gcc` a incluir todos os arquivos `.c` encontrados na raiz do seu projeto e em seus subdiretórios (como `data/cria_arquivo.c`).
* O nome do executável de saída (`${fileDirname}\\${fileBasenameNoExtension}.exe`) fará com que o executável tenha o mesmo nome do arquivo C ativo no momento da compilação, e será salvo no mesmo diretório do arquivo ativo. Se você estiver em `main.c`, o executável será `main.exe`.

### 3. Passos para Compilar e Executar

1.  Abra o projeto na pasta raiz (`seu_projeto/`) no **VS Code**.
2.  Abra o arquivo `main.c` no editor.
3.  Vá para o menu **Terminal** > **Run Build Task...** e selecione **"Build Project (GCC)"** (o nome que definimos no `tasks.json`).
4.  Após a compilação, vá para o menu **Run** > **Run Without Debugging** ou clique no botão de "play" verde na parte superior direita do VS Code. Alternativamente, você pode executar o arquivo `.exe` gerado diretamente no terminal ou explorador de arquivos.

---

## Funcionalidades e Fluxo

1.  **Sorteio de Palavras**: O programa possui uma lista interna de palavras (frutas, vegetais, objetos). Ele pode sortear um número específico dessas palavras sem repetição.
2.  **Estrutura `Palavra`**: As palavras sorteadas são convertidas em estruturas `Palavra`, que incluem o texto da palavra e campos para coordenadas de início e fim (inicialmente zero).
3.  **Arquivo Binário `palavras.bin`**:
    * **Criação**: Se o arquivo `palavras.bin` não existir, ou se o usuário optar por recriá-lo, o programa gera novas palavras e as salva no arquivo em formato binário.
    * **Leitura**: Se o arquivo `palavras.bin` já existe e o usuário não opta por recriá-lo, o programa lê as palavras diretamente deste arquivo.
4.  **Função `get_palavras`**: Esta é a função principal da biblioteca que orquestra todo o processo, decidindo se deve gerar novas palavras e salvá-las, ou apenas ler as existentes. Ela retorna um ponteiro para a lista de `Palavra` lida/criada.

---

## Como Contribuir

Sinta-se à vontade para explorar o código, adicionar mais palavras à lista `textos`, implementar funcionalidades de busca, ou aprimorar a lógica de posicionamento das palavras.